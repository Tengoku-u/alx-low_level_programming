Automatic and dynamic memory allocation in C